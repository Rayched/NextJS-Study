
### `Layouts`


- **[이전 파트](Navigation_Bar.md)**
- `Navigation Bar` 파트에서 Home과 details에 공통적으로 띄울
- 내비게이션 바를 `/app`의 `layout.tsx`에 추가해서 전역적으로 나오게 했었다.


``` tsx
// '/app', `layout.tsx` 코드

import Navigation from "../components/navigation"

export const metadata = {
	title: 'Next.js',
	description: 'Generated by Next.js',
}

export default function RootLayout({
	children,
}: {
	children: React.ReactNode
}) {
	return (
		<html>
			<body>
				<Navigation />
				{children}
			</body>
		</html>
	)
};
```

- `Next App` 실행하면, `NextJS`는 제일 먼저 `root layout`에서
- `export`된 기본 컴포넌트 (Default Component)를 먼저 랜더링한다.

- 그리고 URL 확인해서, 해당 URL에 맞는 `page`와 `layout` 랜더링한다.

- 이를 다이어그램으로 표현하자면 다음과 같다.

``` tsx
<Layout>
	<page_componenets />
	{
		/** 
		* /URL 내부에 존재하는 <page /> Rendering
		*/
	}
</Layout>
```

- 이때 `<Layout>` 내부에 추가되는 컴포넌트들은 모두 자식, 하위 요소로 취급된다. <br/>
	(`children`이라는 `props`로 바뀌게 된다.) 

- `layout.tsx`의 설정은 하위 요소, page에 공통적으로 적용되며 <br/>
	각 URL마다 자기만의 `layout` 정의하는 것도 가능하다.

- `/details`에 `layout.tsx` 파일을 추가하고 아래와 같이 코드를 작성하였다.

``` tsx
// '/details', 'layout.tsx'
  

export default function DetailsLayout({children}: {children: React.ReactNode}){
	return (
		<div>
			{children}
			<h4>{"'/details' 및 하위 URL에 공통적으로 적용되는 Layout"}</h4>
		</div>
	)
};
```

- `metadata`와 `<html>, <body>`는 `rootLayout`에 정의를 해뒀기 때문에
- `details`의 `layout`에서는 삭제하고, 이런 식으로 `layout` 설정했다.

- `/details`와 하위 페이지인 `/details/movies`에 접속하면 이런 식으로 나온다.

<img src="refImgs/details-layout.png"/>

- 여기서 `<layout>`은 중첩이 된다는 것을 위의 이미지를 통해 확인할 수 있다.
- `<DetailsLayout>`이 정의됐다고 해서, `<RootLayout>`의 내비게이션 바가 사라지지 않고 <br/>
	두 개의 Layout이 중첩해서 존재한다.


``` tsx
// '/details/movies' 가정
<RootLayout>
	<DetailsLayout>
		<MoviesPage />
	</DetailsLayout>
<RootLayout>
```

- 다이어그램으로 표현하면 이런 식의 구조를 가진다.

